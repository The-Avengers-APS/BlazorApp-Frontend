@using Microsoft.AspNetCore.Components

<div class="training-card" @onclick="NavigateToProgram">
    <h4 class="training-card-title">@Title</h4>

    <span class="training-level @GetLevelClass()">
        @Level
    </span>

    <p class="training-description">@Description</p>

    <div class="training-details">
        <span>@Duration</span>
        <span>@TotalWorkouts</span>
    </div>
</div>

@code {
    [Parameter] public string Title { get; set; }
    [Parameter] public string Level { get; set; }
    [Parameter] public string Description { get; set; }
    [Parameter] public string Duration { get; set; }
    [Parameter] public string TotalWorkouts { get; set; }

    [Inject] NavigationManager Nav { get; set; }

    private void NavigateToProgram()
    {
        var slug = Title.ToLower().Replace(" ", "-");
        Nav.NavigateTo($"/training/{slug}");
    }

    private string GetLevelClass()
    {
        return Level switch
        {
            "Begynder" => "training-level-begynder",
            "Mellem" => "training-level-mellem",
            "Avanceret" => "training-level-avanceret",
            _ => ""
        };
    }
}